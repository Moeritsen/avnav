<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>AvNav-Android</title>
    <link href="../styles.css" rel="stylesheet" type="text/css">
  </head>
  <body data-order="4000">
    <h1>AvNav Android</h1>
    <div class="toc"> </div>
    <p>Nachdem die Navigations-App für die <a href="../beschreibung.html">Nutzung
        mit dem Raspberry Pi</a>&nbsp; bereits einige Jahre erfolgreich im
      Einsatz ist, gibt es jetzt auch eine Version, die direkt (ohne einen
      Raspberry) auf Android läuft. Sie erfordert Android ab 4.4 (KitKat).</p>
    <p>Die aktuellste Version kann man unter <a href="../../downloads/release/latest">Downloads</a>
      herunterladen. Oder im <a href="https://play.google.com/store/apps/details?id=de.wellenvogel.avnav.main">AppStore</a>.<br>
      Ältere Versionen oder daily builds findet man über die <a href="../install.html">Installationsbeschreibung</a>.</p>
    <p>Sie verpackt im Wesentlichen die Web-App (siehe <a href="../userdoc/index.html">Beschreibung</a>)
      in eine Android Applikation - siehe dort auch zum <a href="../charts.html">Erzeugen/Konvertieren</a>
      der Karten.</p>
    <h2>Funktion&nbsp;</h2>
    <p>(neu ab 202104xx)</p>
    <p>Die App besteht intern aus mehreren Funktionsblöcken .</p>
    <img src="software-android.png" alt="" class="fimage">
    <p>Der NMEA Multiplexer verarbeitet NMEA0183 Daten von den verschiedenen
      Quellen. Neben dem internen GPS können die Daten von Quellen wie TCP
      Verbindunge, UDP Ports, USB Geräten oder Bluetooth Verbindungen kommen.
      Die meisten Quellen unterstützen das gleichzeitige Senden und Empfangen
      von Daten. Es können jeweils mehrere Quellen des gleichen Typs
      konfiguriert werden (in der App Konfiguration existiert für jede Quelle
      ein "Handler").</p>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Name in der App</td>
          <td>Beschreibung</td>
        </tr>
        <tr>
          <td>InternalGPS</td>
          <td>Die Daten des internen GPS werden als NMEA Daten eingespeist.</td>
        </tr>
        <tr>
          <td>TcpReader</td>
          <td>Eine TCP Verbindung zu einem externen System. AvNav ist dabei ein
            TCP client und öffnet die Verbindung.<br>
            Als Adresse kann sowohl eine IP Adresse als auch ein hostname (auch
            ein mdns Name wie avnav.local) angegeben werden.</td>
        </tr>
        <tr>
          <td>TcpWriter</td>
          <td>AvNav ermöglicht es einer anderen App oder einem anderen System
            sich zu verbinden und Daten zu empfangen. AvNav ist hier der TCP
            Server.</td>
        </tr>
        <tr>
          <td>UdpReader</td>
          <td>AvNav empfängt UDP Daten auf dem konfigurierten Port</td>
        </tr>
        <tr>
          <td>UdpWriter</td>
          <td>AvNav sendet UDP Daten zur konfigurierten Adresse und dem
            konfigurierten Port</td>
        </tr>
        <tr>
          <td>UsbConnection</td>
          <td>Daten können über einen angeschlossenen USB-Seriell Wandler
            gesendet umd empfangen werden (erfordert USB-OTG Funktionalität auf
            dem Gerät)</td>
        </tr>
        <tr>
          <td>Bluetooth</td>
          <td>Eine Verbindung zu einem Bluetooth Gerät. Das Pairing des Gerätes
            muss vorher ausserhalb von AvNav erfolgen.</td>
        </tr>
        <tr>
          <td>NMEA0183 service</td>
          <td>Eine Verbindung zu einem System, das seine NMEA0183 Daten als TCP
            Service über mdns (Bonjour/<a href="https://de.wikipedia.org/wiki/Avahi_%28Software%29">Avahi</a>)
            bereitstellt. <br>
            AvNav öffnet eine TCP Verbindung zu einem solchen Gerät.</td>
        </tr>
      </tbody>
    </table>
    <br>
    <p>Der NMEA Multiplexer kann sehr flexibel konfiguriert werden. Zu jeder
      Verbindung lassen sich Eingangs- und Ausgangsfilter festlegen.</p>
    <p>Der Mulitplexer reicht intern die Daten auch an die anderen Bestandteile
      weiter. Der Dekoder bereitet die Daten für die Nutzung innerhalb der App
      auf.</p>
    <p>Die eigentliche App mit der Kartendarstellung und den Anzeigen kann
      einerseits ganz normal als Android App genutzt werden. Parallel dazu kann
      der integrierte Web Server aktiviert werden. Das ermöglicht den Zugriff
      mit einem Browser von weiteren Geräten (so wie auch in der <a href="../beschreibung.html">Server-Variante</a>).</p>
    <p>Der Anzeige-Teil der App kann beendet werden, so das der Multiplexer
      alleine im Hintegrund weiter läuft. Damit kann AvNav auch genutzt werden,
      um NMEA Daten für andere Android Apps bereitzustellen. In AvNav
      konfiguriert man dazu einen TcpWriter und in den anderen Apps verbindet
      man sicht dann mit 127.0.0.1 und dem konfigurierten Port).</p>
    <h2>Karten und gespeicherte Daten</h2>
    <p>Die Karten werden im gemf <a href="../charts.html#chartformats">Format</a>
      erwartet.Ab Version 20200325 auch als mbtiles oder xml files. Sie können
      in 2 Verzeichnissen liegen:</p>
    <ul>
      <li> im charts Verzeichnis unterhalb des Arbeitsverzeichnisses (kann beim
        Start gewählt werden). Dieses muß beschreibbar sein und wird daher bei
        Android 4.4 und höher auf dem internen Speicher liegen müssen</li>
      <li>in einem beliebigen anderen Verzeichnis (vorzugsweise auf der SD
        Karte) - "additional charts dir" in den Einstellungen<br>
        Hier können allerdings keine mbtiles Karten genutzt werden, diese müssen
        erst in das interne Verzeichnis <a href="../userdoc/downloadpage.html">hochgeladen</a>
        werden.</li>
    </ul>
    <p>Die Karten müssen auf das Gerät in eines der Verzeichnisse kopiert oder <a
        href="../userdoc/downloadpage.html">in der App hochgeladen</a> werden .
      Zusätzlich sind einige Demo-Karten vorhanden, die allerdings eine
      Online-Verbindung erfordern.</p>
    <p>Wenn das gewählte Arbeitsverzeichnis&nbsp; (Standard:
      interne-sd-Karte/avnav) noch nicht da ist, wird es beim ersten Start
      angelegt.</p>
    <p>Die Track-Daten und Log Dateien werden in das Verzeichnis tracks
      unterhalb des Arbeitsverzeichnisses geschrieben.</p>
    <p>Im Unterverzeichnis routes werden die Routen im gpx Format gespeichert.
      Routen und Tracks können aus der App über die Download Funktion an andere
      Apps weitergegeben werden (siehe Beschreibung der App). Um sie in andere
      Verzeichnisse zu speichern oder Routen aus anderen Verzeichnissen zu laden
      (upload Funktion), sollte sinnvollerweise ein Dateimanager installiert
      sein.</p>
    <h2>Benutzung</h2>
    <p>Nach dem erstmaligen Start der App befindet man sich auf einer
      Einführungsseite:</p>
    <img alt="" src="android-start-first.png" class="fimage"><br>
    Nach dem Klick kommt man auf die Einstellungsseite:<br>
    <img src="android-settings-main.png" alt="" class="fimage"><br>
    Hier können z.B. die Verzeichnisse&nbsp; für Karten und Tracks gewählt
    werden, sowie einige weitere Einstellungen.<br>
    Eine Liste der Einstellungen findet sich <a href="#Settings">hier</a>.<br>
    Die Einstellungen für die NMEA Datenquellen (und einige weitere) erreicht
    man in der App über die <a href="../userdoc/statuspage.html">Server/Status
      Seite</a> <img src="../viewerimages/icons-new/status.svg" alt="" class="inlineimage">.<br>
    <br>
    <p> Die Settings Seite kann über den OK button (oben rechts) oder über den
      Zurück-Button verlassen werden. Man erreicht die <a href="../userdoc/mainpage.html">Hauptseite</a>
      der App.</p>
    <img src="android-mainpage.png" alt="" class="fimage"><br>
    Im Bild ist wird eine gültige Position (oberer grüner Punkt) und bisher noch
    keine gültigen AIS Daten (unterer roter Punkt) empfangen.<br>
    Um zu den Android Einstellungen zu gelangen, zunächst die <a href="../userdoc/settingspage.html">Einstellungsseite</a>
    in der App aufrufen, dort dann auf den Android Button klicken.<br>
    Bei weiteren Starts erreicht man sofort die Hauptseite der App.<br>
    <br>
    <h2>Externer Zugriff</h2>
    <p> (neu ab 202104xx).</p>
    <p>Die App ermöglicht es, das man sich mit einem Browser von anderen Geräten
      verbinden kann. Dazu muss in der App der Web Server aktiviert werden (<a href="../userdoc/statuspage.html">Status/Server
        Seite</a> <img src="../viewerimages/icons-new/status.svg" alt="" class="inlineimage">).<br>
      Bei der Aktivierung des Web Servers muss dann "externalAccess" aktiviert
      werden. Mit "mdnsEnabled wird dafür gesorgt, das eine Bonjour-fähige App
      (z.B. <a href="https://play.google.com/store/apps/details?id=de.wellenvogel.bonjourbrowser">BonjourBrowser</a>)sich
      mit dem Server verbinden kann.</p>
    <p>In älteren Versionen hat die App dafür 2 Modi genutzt.<span style="color: #cccccc;"><br>
      </span></p>
    <span style="color: #cccccc;"> </span>
    <ul>
      <li><span style="color: #cccccc;">Normal</span></li>
      <li><span style="color: #cccccc;">External Browser</span></li>
    </ul>
    <span style="color: #cccccc;"> Im Normal-Modus ist der Browser in der App
      integriert und sie wird wie eine normale Android App genutzt.<br>
      Im External-Browser Mode startet die App einen kleinen Webserver (also
      spielt so ein wenig Raspberry...) auf einem einstellbaren Port (34567).</span><br>
    <br>
    <br>
    <h2>Hintergrund</h2>
    <p>Der NMEA Multiplexer (und auch der Web Server) von AvNav kann im
      Hintergrund laufen. Das kann genuzt werden, wenn die eigentliche Anzeige
      auf einem anderen Gerät erfolgen soll - oder wenn eine andere App für die
      Navigation genutzt wird und nur der Multiplexer von AvNav benötigt wird.</p>
    <p>Dazu nach dem Start auf der Hauptseite über <img src="../viewerimages/icons-new/ic_clear.svg"
        alt="" class="inlineimage">den Beenden-Dialog aufrufen und dort
      "BACKGROUND" auswählen.</p>
    <p>Über die Benachrichtigung (in der Android Nachrichten Zeile) kann die App
      wieder in den Vordergrund geholt - oder direkt beendet werden.</p>
    <br>
    <h2> <a id="Settings" name="Settings"></a>Einstellungen</h2>
    <p>Die Einstellungen gliedern sich in zwei Teile:</p>
    <ul>
      <li>Spezielle Android Einstellungen</li>
      <li>Einstellungen für den Multiplexer und andere Hauptbestandteile</li>
    </ul>
    <p>Die Android-Einstellungen erreicht man über den <img src="../viewerimages/icons-new/ic_android.svg"
        alt="" class="inlineimage">Button auf der <a href="../userdoc/settingspage.html">Einstellungsseite</a>
      bzw. der <a href="../userdoc/statuspage.html">Server/Status</a> Seite.</p>
    <h3>Android Main Einstellungen</h3>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Name</td>
          <td>Bedeutung</td>
          <td>Default</td>
        </tr>
        <tr>
          <td>working directory</td>
          <td>das Arbeitsverzeichnis (mit den Unterverzeichnissen charts,tracks,
            routes)</td>
          <td>/storage/sdcard/avnav</td>
        </tr>
        <tr>
          <td>additional charts directory</td>
          <td>ein zusätzliches Kartenverzeichnis (sinnvoll auf der externen SD
            Karte)</td>
          <td>/storage/sdcard/avnav/charts</td>
        </tr>
        <tr>
          <td>show demo charts</td>
          <td>Anzeige der Demo Karten (erfordert Internet Verbindung)</td>
          <td>ein<br>
          </td>
        </tr>
        <tr>
          <td>Alarm sounds</td>
          <td>Hier können die durch den Server erzeugten Alarm-Sounds
            abgeschaltet werden. Im external Browser mode müssen diese im
            Browser ggf. zusätzlich abgeschaltet werden.</td>
          <td><br>
          </td>
        </tr>
        <tr>
          <td>Hide System Bars</td>
          <td>Verberge die Android Kopf- und Fusszeile</td>
          <td><br>
          </td>
        </tr>
        <tr>
          <td>reset to defaults</td>
          <td>Rücksetzen der Multiplexer-Einstellungen auf default-Werte</td>
          <td><br>
          </td>
        </tr>
      </tbody>
    </table>
    <p><br>
    </p>
    <h3>Android Sound Einstellungen</h3>
    <table style="width: 100%;" border="1">
      <tbody>
        <tr>
          <td>Name</td>
          <td>Bedeutung</td>
          <td>Default</td>
        </tr>
        <tr>
          <td>Sound for XXX alarm</td>
          <td>Hier kann der Ton für die verschiedenen Alarme gewählt werden</td>
          <td><br>
          </td>
        </tr>
        <tr>
          <td>reset to defaults</td>
          <td>Rücksetzen der Sound-Einstellungen auf Defaults</td>
          <td><br>
          </td>
        </tr>
      </tbody>
    </table>
    <p> </p>
    <p> </p>
    <h3><a name="MuxConfig" id="MuxConfig"></a>Multiplexer Einstellungen</h3>
    <p>(neu ab 202104xx)</p>
    <p>Die Einstellungen für den Multiplexer sind auf der <a href="../userdoc/statuspage.html">Status/Server
        Seite</a> <img src="../viewerimages/icons-new/status.svg" alt="" class="inlineimage">verfügbar.
      Für jede Funktion (z.B. für jede Quelle im Multiplexer) ist ein
      sogenannter "Handler" vorhanden, der hier konfiguriert werden kann.</p>
    <p>Weitere Quellen können über den <img src="../viewerimages/icons-new/ic_add.svg"
        alt="" class="inlineimage">Button hinzugefügt werden. Es werden dann die
      Handler angeboten, die möglich sind (z.B. UsbConnection nur, wenn ein USB
      Gerät angeschlossen ist).</p>
    <img src="android-status-add.png" alt="" class="fimage">
    <p>Neben den angezeigten Handlern in der Status übersicht existiert im
      Normalfall ein <img src="../viewerimages/icons-new/ic_edit.svg" alt="" class="inlineimage">Button,
      mit dem man den Handler bearbeiten kann.<br>
      Die im Bearbeitungs-Dialog angezeigten Parameter haben meist einen <img src="../viewerimages/icons-new/ic_help_outline.svg"
        alt=""> Button, über den eine Hilfe angezeigt wird.<br>
      Einige Parameter tauchen bei mehreren Handlern auf:</p>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Name</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>enabled</td>
          <td>Aktviert/Deaktiviert diesen Handler</td>
          <td>ja nach Handler</td>
        </tr>
        <tr>
          <td>name</td>
          <td>Name für den Handler. Dieser kann in blacklists verwendet werden.</td>
          <td>leer</td>
        </tr>
        <tr>
          <td>port</td>
          <td>TCP oder UDP port</td>
          <td><br>
          </td>
        </tr>
        <tr>
          <td>filter/readerFilter/ sendFilter</td>
          <td>ein NMEA filter. Hier kann definiert werden, welche NMEA Daten
            durchgelassen werden sollen. Mehrere Filter werden durch , getrennt.
            Für Datensätze, die mit $ beginnen, werden die nächsten beiden
            Zeichen ignoriert (die Talker Id). Ein Filter für alle RMC Sätze
            sieht z.B. so aus:<br>
            $RMC<br>
            Für alle AIS Daten (aber keine anderen NMEA Daten):<br>
            !<br>
            Alle RMC und RMB Sätze:<br>
            $RMC,$RMB<br>
            Falls der Filter negiert werden soll, muss ein ^ dem Ausdruck
            vorangestellt werden.<br>
            ^$RMB,^$APB</td>
          <td>leer</td>
        </tr>
        <tr>
          <td>blacklist</td>
          <td>eine durch , getrennte Liste von Namen. NMEA Daten von diesen
            Quellen werden nicht ausgesendet.</td>
          <td><br>
          </td>
        </tr>
      </tbody>
    </table>
    <p>Die vorhandenen "Handler" und ihre Parameter (es werden nur die
      spezifischen Parameter beschrieben)</p>
    <h4>Decoder</h4>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>ownMMSI</td>
          <td>eigene MMSi, diese wird in der AIS Anzeige ausgeblendet</td>
          <td>leer</td>
        </tr>
        <tr>
          <td>posAge</td>
          <td>erlaubtes Alter (in s) für die GPS Position, nach dieser Zeit wird
            sie gelöscht, wenn keine neue empfangen wurde</td>
          <td>10</td>
        </tr>
        <tr>
          <td>nmeaAge</td>
          <td>erlaubtes Alter (in s) für NMEA Daten, die keine Position sind</td>
          <td>600</td>
        </tr>
        <tr>
          <td>aisAge</td>
          <td>erlaubtes Alter für AIS Daten</td>
          <td>1200</td>
        </tr>
        <tr>
          <td>readTimeout</td>
          <td>Timeout in s für die Anzeige pb valide NMEA Daten empfangen werden</td>
          <td>10</td>
        </tr>
      </tbody>
    </table>
    <h4>Route</h4>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>computeRMB</td>
          <td>erzeuge NMEA RMB Datensätze, wenn ein Routing aktiv ist</td>
          <td>an</td>
        </tr>
      </tbody>
    </table>
    <h4>Track</h4>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>interval</td>
          <td>Intervall in s für das Schreiben des Tracks als gpx Datei.</td>
          <td>300</td>
        </tr>
        <tr>
          <td>distance</td>
          <td>Minimaler Abstand in m bevor ein neuer Trackpunkt geschrieben wird</td>
          <td>25</td>
        </tr>
        <tr>
          <td>minTime</td>
          <td>Minimale Zeit in s bevor ein neuer Trackpunkt geschrieben wird</td>
          <td>10</td>
        </tr>
        <tr>
          <td>length</td>
          <td>Länge des angezeigten Tracks in h</td>
          <td>25</td>
        </tr>
      </tbody>
    </table>
    <h4>Logger</h4>
    <p>NMEA logger</p>
    <h4>WebServer</h4>
    <img src="android-status-webserver.png" alt="" class="fimage">
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>port</td>
          <td>der TCP Port, auf dem der Server Verbindungen annimmt</td>
          <td>8080</td>
        </tr>
        <tr>
          <td>external</td>
          <td>Wenn aktiv, dann können auch andere Geräte sich verbinden (sonst
            nur auf dem eigenen Gerät). <br>
            <span style="color: red;">Hinweis: Das sollte mit Vorsicht aktiviert
              werden (nur in vetrauenswürdigen Netzen). Innerhalb der App gibt
              es keinen weiteren Schutz!</span></td>
          <td>aus</td>
        </tr>
        <tr>
          <td>mdnsEnabled</td>
          <td>mache den Service per mdns bekannt</td>
          <td>an</td>
        </tr>
        <tr>
          <td>mdnsService</td>
          <td>Der Name unter dem die App per mdns erreichbar ist</td>
          <td>avnav-android</td>
        </tr>
      </tbody>
    </table>
    <h4>InternalGPS</h4>
    <p>Das GPS des Gerätes.</p>
    <h4>MDNSResolver</h4>
    <p>Der Handler für die Auflösung und das Bekanntmachen von MDNS
      (Bonjour/Avahi) Services.</p>
    <h4>TcpReader</h4>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>ipAddress</td>
          <td>Die IP Adresse oder der Hostname für den Server, der kontaktiert
            werden soll. Das kann auch ein MDNS Name wie z.B. avnav.local sein.</td>
          <td>---</td>
        </tr>
        <tr>
          <td>port</td>
          <td>Der Ip Port zu dem eine Verbindung aufgebaut werden soll.</td>
          <td>---</td>
        </tr>
        <tr>
          <td>sendOut</td>
          <td>Wenn aktiviert, werden auch NMEA Daten gesendet (sonst nur
            emfangen)</td>
          <td>aus</td>
        </tr>
        <tr>
          <td>readTimeout</td>
          <td>Zeige die Verbindung inaktiv, wenn keine Daten nach dieser Zeit
            (Sekunden)</td>
          <td>10</td>
        </tr>
        <tr>
          <td>writeTimeout</td>
          <td>Schliesse die Verbidung, wenn ein Satz nicht innerhalb dieser Zeit
            (Sekunden) geschrieben werden konnte</td>
          <td>5</td>
        </tr>
        <tr>
          <td>connectTimeout</td>
          <td>Timeout für den Verbindungsaufbau (Sekunden, 0 - System-default)</td>
          <td>0</td>
        </tr>
        <tr>
          <td>closeOnTimeout</td>
          <td>Schliesse die Verbindung (und öffne sie erneut) wenn das
            readTimeout erreicht wird</td>
          <td>an</td>
        </tr>
      </tbody>
    </table>
    <h4>TcpWriter</h4>
    <p>Ein TCPWriter stellt die NMEA Daten für andere Anwendungen bereit.</p>
    <img src="android-status-tcpwriter-intern.png" alt="" class="fimage">
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>port</td>
          <td>Der Port, auf dem der Server Verbindungen annimmt</td>
          <td>---</td>
        </tr>
        <tr>
          <td>externalAccess</td>
          <td>Wenn aktiv können andere Geräte sich verbinden (sonst nur Apps auf
            dem gleichen Gerät).</td>
          <td>aus</td>
        </tr>
        <tr>
          <td>writeTimeout</td>
          <td>Schliesse die Verbidung, wenn ein Satz nicht innerhalb dieser Zeit
            (Sekunden) geschrieben werden konnte</td>
          <td>5</td>
        </tr>
        <tr>
          <td>readData</td>
          <td>Wenn aktiv, empfängt AvNav auch NMEA Daten über eine aufgebaute
            Verbindung</td>
          <td>aus</td>
        </tr>
        <tr>
          <td>mdnsEnabled</td>
          <td>mache den Service per mdns bekannt (type: _nmea-0183._tcp)</td>
          <td>aus</td>
        </tr>
        <tr>
          <td>mdnsService</td>
          <td>Der Name unter dem dieser Server per mdns erreichbar ist</td>
          <td><br>
          </td>
        </tr>
      </tbody>
    </table>
    <h4>UdpReader</h4>
    <p>Ein UDP Reader empfängt Daten von anderen Apps/Systemen.</p>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>port</td>
          <td>der UDP port, uaf dem Daten empfangen werden</td>
          <td>---</td>
        </tr>
        <tr>
          <td>externalAccess</td>
          <td>wenn aktiv können Daten von anderen Geräten empfangen werden,
            sonst nur innerhalb des Gerätes</td>
          <td>aus</td>
        </tr>
        <tr>
          <td>readTimeout</td>
          <td>zeige die Verbindung als inaktive, wenn für diese Zeit (Sekunden)
            keine Daten empfangen wurden.</td>
          <td>10</td>
        </tr>
      </tbody>
    </table>
    <h4>UdpWriter</h4>
    <p>Ein UdpWriter sendet NMEA Daten per UDP an eine andere App.</p>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>ipaddress</td>
          <td>die IP Adresse oder der Hostname des Ziel-Computers. Es kann auch
            ein mdns Name wie avnav.local genutzt werden</td>
          <td>---</td>
        </tr>
        <tr>
          <td>port</td>
          <td>Der Ziel-Port , an den Daten gesendet werden sollen</td>
          <td>---</td>
        </tr>
        <tr>
          <td>broadcast</td>
          <td>Sende die Daten als Broadcast (Adresse muss dann eine gültige
            Broadcast Adresse sein)</td>
          <td>aus</td>
        </tr>
      </tbody>
    </table>
    <h4>NMEA0183 Service</h4>
    <p>Ein NMEA0183 Service arbeitet im Wesentlichen wie ein TcpReader.
      Allerdings werden hier nicht Zieladresse und Port vorgegeben. Stattdessen
      wird der Name eines (MDNS) Services (type: _nmea-0183._tcp) aus einer
      Liste der verfügbaren Services gewählt. Falls z.B. im Netz ein SignalK
      server oder ein AvNav Server (&gt; 20210415) vorhanden ist, machen diese
      ihre NMEA Ausgänge auf diese Weise bekannt.<br>
      Der Vorteil ist, das auch bei Wechsel des Netzwerkes der Zugriff im
      Normalfall wieder funktionieren wird und die Verbindung wieder aufgebaut
      werden kann.</p>
    <img src="android-status-add-nmea0183.png" alt="" class="fimage">
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>service</td>
          <td>der Name des Services (Auswahl aus der Liste der gefundenen)</td>
          <td>---</td>
        </tr>
        <tr>
          <td>sendOut</td>
          <td>sende NMEA Daten auf dieser Verbindung</td>
          <td><br>
          </td>
        </tr>
        <tr>
          <td>readTimeout</td>
          <td>Zeige die Verbindung inaktiv, wenn keine Daten nach dieser Zeit
            (Sekunden)</td>
          <td>10</td>
        </tr>
        <tr>
          <td>writeTimeout</td>
          <td>Schliesse die Verbidung, wenn ein Satz nicht innerhalb dieser Zeit
            (Sekunden) geschrieben werden konnte</td>
          <td>5</td>
        </tr>
        <tr>
          <td>connectTimeout</td>
          <td>Timeout für den Verbindungsaufbau (Sekunden, 0 - System-default)</td>
          <td>0</td>
        </tr>
        <tr>
          <td>closeOnTimeout</td>
          <td>Schliesse die Verbindung (und öffne sie erneut) wenn das
            readTimeout erreicht wird</td>
          <td>an</td>
        </tr>
      </tbody>
    </table>
    <h4>UsbConnection</h4>
    <p>AvNav wird aktiv, wenn ein USB Gerät engeschlossen wird. Es ist sinnvoll
      zunächst AvNav zu starten und danach das USB Gerät anzustecken. Es kann
      dann direkt ausgewählt werden, das AvNav immer auf dieses Gerät zugreifen
      darf und AvNav startet auch sofort den Dialog zur Konfiguration des
      Gerätes.</p>
    <p><img src="android-connect-usb.png" alt="" class="fimage"></p>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>device</td>
          <td>Das angeschlossene USB Gerät (genauer: der Anschluss des Gerätes),
            Auswahl aus einer Liste</td>
          <td>---</td>
        </tr>
        <tr>
          <td>baud rate</td>
          <td>Die Baudrate</td>
          <td>9600</td>
        </tr>
        <tr>
          <td>flowControl</td>
          <td>none|xon/xoff|rts/cts - Auswahl der Flusssteuerung (muss vom
            Adapter unterstützt werden)</td>
          <td>none</td>
        </tr>
        <tr>
          <td>sendOut</td>
          <td>sende NMEA Daten auf dieser Verbindung</td>
          <td>aus</td>
        </tr>
        <tr>
          <td>readTimeout</td>
          <td>Zeige die Verbindung inaktiv, wenn keine Daten nach dieser Zeit
            (Sekunden)</td>
          <td>10</td>
        </tr>
      </tbody>
    </table>
    <h4>Bluetooth</h4>
    Zum Verbinden z.B.&nbsp; mit einem Bluetooth GPS, dieses zunächst über die
    Bluetooth Einstellungen (ausserhalb der Applikation) "pairen".<br>
    <table style="width: 100%" border="1">
      <tbody>
        <tr>
          <td>Parameter</td>
          <td>Beschreibung</td>
          <td>default</td>
        </tr>
        <tr>
          <td>device</td>
          <td>Das Bluetooth Gerät. Bei der Einrichtung werden alle Geräte
            angeboten, die bereits bekannt sind, erst danach wird versucht, das
            Gerät zu erreichen.</td>
          <td>---</td>
        </tr>
        <tr>
          <td>sendOut</td>
          <td>sende NMEA Daten auf dieser Verbindung</td>
          <td>aus</td>
        </tr>
        <tr>
          <td>readTimeout</td>
          <td>Zeige die Verbindung inaktiv, wenn keine Daten nach dieser Zeit
            (Sekunden)</td>
          <td>10</td>
        </tr>
      </tbody>
    </table>
    <p><br>
    </p>
    <p><br>
    </p>
    <p> </p>
  </body>
</html>
